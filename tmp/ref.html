<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NEXUS OS — Command Center v3</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;600;700;900&family=Exo+2:wght@200;300;400;600;700;900&display=swap');

  :root {
    --bg-void: #020407;
    --bg-panel: rgba(6, 11, 22, 0.92);
    --border: rgba(0, 180, 255, 0.12);
    --border-bright: rgba(0, 210, 255, 0.4);
    --cyan: #00d4ff;
    --cyan-dim: rgba(0, 212, 255, 0.6);
    --electric: #0070ff;
    --amber: #ff8c00;
    --green: #00ff88;
    --red: #ff1744;
    --gold: #ffd700;
    --text-primary: #ddeeff;
    --text-secondary: rgba(160, 210, 255, 0.5);
    --glow-cyan: 0 0 8px rgba(0,212,255,0.7), 0 0 30px rgba(0,212,255,0.25);
    --glow-amber: 0 0 8px rgba(255,140,0,0.7), 0 0 30px rgba(255,140,0,0.25);
    --glow-green: 0 0 8px rgba(0,255,136,0.6), 0 0 24px rgba(0,255,136,0.2);
    --glow-gold: 0 0 10px rgba(255,215,0,0.8), 0 0 30px rgba(255,215,0,0.3);
    --glow-red: 0 0 10px rgba(255,23,68,0.9), 0 0 40px rgba(255,23,68,0.35);
    --radius: 4px;
    --panel-shadow: 0 8px 48px rgba(0,0,0,0.9), inset 0 1px 0 rgba(0,212,255,0.06);
  }

  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Exo 2', sans-serif;
    background: var(--bg-void);
    color: var(--text-primary);
    min-height: 100vh;
    overflow-x: hidden;
    background-image:
      radial-gradient(ellipse 100% 60% at 50% -5%, rgba(0,80,180,0.07) 0%, transparent 65%),
      radial-gradient(ellipse 50% 40% at 85% 70%, rgba(139,0,255,0.03) 0%, transparent 50%);
  }

  body::after {
    content: '';
    position: fixed; inset: 0;
    background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.022) 2px, rgba(0,0,0,0.022) 4px);
    pointer-events: none;
    z-index: 9999;
  }

  /* ===== NEURAL BAR ===== */
  .neural-bar {
    position: sticky; top: 0; z-index: 100;
    height: 48px;
    background: rgba(2,4,10,0.97);
    border-bottom: 1px solid var(--border-bright);
    backdrop-filter: blur(20px);
    display: flex; align-items: center; justify-content: space-between;
    padding: 0 24px; overflow: hidden;
  }
  .neural-bar::before {
    content: ''; position: absolute; bottom: 0; left: -100%;
    width: 60%; height: 1px;
    background: linear-gradient(90deg, transparent, var(--cyan), transparent);
    animation: scanline 4s linear infinite;
  }
  @keyframes scanline { to { left: 140%; } }

  .bar-left { display: flex; align-items: center; gap: 12px; flex: 1; }
  .progress-label { font-family: 'Share Tech Mono', monospace; font-size: 9px; color: var(--text-secondary); letter-spacing: 2px; text-transform: uppercase; }
  .global-progress-track { width: 120px; height: 4px; background: rgba(0,212,255,0.07); border-radius: 2px; overflow: hidden; }
  .global-progress-fill { height: 100%; width: 67%; background: linear-gradient(90deg, var(--electric), var(--cyan)); box-shadow: var(--glow-cyan); animation: pulseBar 3s ease-in-out infinite; }
  @keyframes pulseBar { 0%,100%{opacity:1} 50%{opacity:0.6} }
  .bar-coords { font-family: 'Share Tech Mono', monospace; font-size: 9px; color: rgba(0,212,255,0.22); letter-spacing: 1px; }

  .bar-center { flex: 1; text-align: center; }
  .datetime-widget { font-family: 'Share Tech Mono', monospace; font-size: 15px; color: var(--cyan); text-shadow: var(--glow-cyan); letter-spacing: 3px; }
  .datetime-date { font-size: 8px; color: var(--text-secondary); letter-spacing: 3px; text-transform: uppercase; margin-top: 1px; }

  .bar-right { flex: 1; display: flex; justify-content: flex-end; align-items: center; gap: 16px; }
  .freq-indicator { font-family: 'Share Tech Mono', monospace; font-size: 9px; color: rgba(0,212,255,0.28); display: flex; align-items: center; gap: 6px; }
  .freq-bars { display: flex; gap: 2px; align-items: flex-end; height: 14px; }
  .freq-bar { width: 3px; background: var(--cyan); border-radius: 1px; animation: freqAnim 0.8s ease-in-out infinite alternate; }
  .freq-bar:nth-child(1){height:4px;animation-delay:0s} .freq-bar:nth-child(2){height:8px;animation-delay:.15s} .freq-bar:nth-child(3){height:12px;animation-delay:.3s} .freq-bar:nth-child(4){height:6px;animation-delay:.1s} .freq-bar:nth-child(5){height:10px;animation-delay:.25s}
  @keyframes freqAnim { from{opacity:0.28;transform:scaleY(0.6)} to{opacity:0.9;transform:scaleY(1)} }

  .customize-btn { display:flex;align-items:center;gap:8px;padding:6px 14px;background:rgba(0,212,255,0.05);border:1px solid var(--border-bright);border-radius:var(--radius);color:var(--cyan);font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:2px;cursor:pointer;text-transform:uppercase;transition:all 0.2s;clip-path:polygon(8px 0%,100% 0%,calc(100% - 8px) 100%,0% 100%); }
  .customize-btn:hover { background:rgba(0,212,255,0.12); box-shadow:var(--glow-cyan); }
  .customize-btn svg { width:12px;height:12px; }

  /* ===== LAYOUT ===== */
  .os-main { max-width: 1400px; margin: 0 auto; padding: 24px 24px 60px; display: grid; gap: 20px; }

  /* ===== PANEL BASE ===== */
  .panel {
    background: var(--bg-panel);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    box-shadow: var(--panel-shadow);
    backdrop-filter: blur(16px);
    position: relative; overflow: hidden;
  }
  .panel::before { content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--border-bright),transparent); }
  .panel-corner { position:absolute;width:10px;height:10px;border-color:var(--cyan-dim);border-style:solid;opacity:0.45; }
  .panel-corner.tl{top:4px;left:4px;border-width:1px 0 0 1px} .panel-corner.tr{top:4px;right:4px;border-width:1px 1px 0 0}
  .panel-corner.bl{bottom:4px;left:4px;border-width:0 0 1px 1px} .panel-corner.br{bottom:4px;right:4px;border-width:0 1px 1px 0}
  .panel-label { font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:3px;color:var(--text-secondary);text-transform:uppercase;padding:0 8px;margin-bottom:16px;display:flex;align-items:center;gap:8px; }
  .panel-label::before{content:'//';color:var(--cyan-dim)} .panel-label::after{content:'';flex:1;height:1px;background:linear-gradient(90deg,var(--border),transparent)}

  /* ===== HERO ===== */
  .hero { padding:48px 40px;text-align:center;position:relative;overflow:hidden; }
  .hero-bg-grid { position:absolute;inset:0;background-image:linear-gradient(rgba(0,212,255,0.028) 1px,transparent 1px),linear-gradient(90deg,rgba(0,212,255,0.028) 1px,transparent 1px);background-size:40px 40px;mask-image:radial-gradient(ellipse at center,black 40%,transparent 80%); }
  .hero-glow { position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:500px;height:250px;background:radial-gradient(ellipse,rgba(0,90,200,0.09) 0%,transparent 70%);pointer-events:none; }
  .logo-hex { width:60px;height:60px;margin:0 auto 20px;background:linear-gradient(135deg,var(--electric),var(--cyan));clip-path:polygon(50% 0%,100% 25%,100% 75%,50% 100%,0% 75%,0% 25%);display:flex;align-items:center;justify-content:center;font-family:'Orbitron',sans-serif;font-size:20px;color:var(--bg-void);font-weight:700;box-shadow:var(--glow-cyan);animation:logoPulse 4s ease-in-out infinite; }
  @keyframes logoPulse { 0%,100%{box-shadow:0 0 14px rgba(0,212,255,0.8),0 0 50px rgba(0,212,255,0.2)} 50%{box-shadow:0 0 24px rgba(0,212,255,1),0 0 80px rgba(0,212,255,0.4)} }
  .project-name { font-family:'Orbitron',sans-serif;font-size:clamp(32px,6vw,68px);font-weight:900;letter-spacing:10px;text-transform:uppercase;color:var(--text-primary);animation:glitchReveal 1.6s ease-out forwards; }
  .project-name .accent { color:var(--cyan);text-shadow:var(--glow-cyan); }
  @keyframes glitchReveal { 0%{opacity:0;clip-path:inset(0 100% 0 0)} 60%{clip-path:inset(0 0 0 0)} 65%{clip-path:inset(3px 0 0 0);transform:skewX(-1deg)} 70%{clip-path:inset(0 0 0 0);transform:skewX(0)} 75%{clip-path:inset(6px 0 2px 0)} 80%{clip-path:inset(0 0 0 0)} 100%{opacity:1} }
  .project-slogan { font-weight:200;font-size:12px;letter-spacing:6px;color:var(--text-secondary);text-transform:uppercase;margin-top:10px; }
  .hero-stats-row { display:flex;justify-content:center;gap:48px;margin-top:32px; }
  .hero-stat-val { font-family:'Share Tech Mono',monospace;font-size:24px;color:var(--cyan);text-shadow:var(--glow-cyan); }
  .hero-stat-label { font-size:9px;letter-spacing:3px;color:var(--text-secondary);text-transform:uppercase;margin-top:4px; }

  /* ===== COMMAND GRID ===== */
  .command-grid { display:grid;grid-template-columns:1fr 1.1fr;gap:20px; }
  @media(max-width:800px){.command-grid{grid-template-columns:1fr}}

  /* ==========================================
     ★★★ RANG NEURAL v3 — DOSSIER D'IDENTITÉ
     ========================================== */
  .rank-panel {
    padding: 0;
    border-color: rgba(0,140,255,0.25);
    background: linear-gradient(160deg, rgba(0,15,40,0.97) 0%, rgba(3,8,20,0.99) 100%);
    overflow: hidden;
  }

  /* Bande supérieure avec hex et class */
  .rank-header {
    position: relative;
    padding: 20px 24px 0;
    display: flex;
    align-items: flex-start;
    gap: 20px;
  }

  /* Hexagone SVG identité */
  .rank-hex-wrap {
    position: relative;
    flex-shrink: 0;
  }

  .rank-hex-svg {
    width: 80px;
    height: 92px;
    filter: drop-shadow(0 0 8px rgba(0,212,255,0.5));
    animation: hexPulse 4s ease-in-out infinite;
  }
  @keyframes hexPulse {
    0%,100%{filter:drop-shadow(0 0 6px rgba(0,212,255,0.4))}
    50%{filter:drop-shadow(0 0 16px rgba(0,212,255,0.9)) drop-shadow(0 0 30px rgba(0,212,255,0.3))}
  }

  .rank-hex-inner {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 2px;
  }

  .rank-hex-level {
    font-family: 'Orbitron', sans-serif;
    font-size: 22px; font-weight: 900;
    color: var(--cyan);
    line-height: 1;
  }

  .rank-hex-sublabel {
    font-family: 'Share Tech Mono', monospace;
    font-size: 7px; letter-spacing: 2px;
    color: rgba(0,212,255,0.5);
    text-transform: uppercase;
  }

  /* Bloc d'info classe */
  .rank-identity {
    flex: 1;
    padding-top: 6px;
  }

  .rank-tier-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 8px; letter-spacing: 3px;
    color: rgba(0,212,255,0.45);
    text-transform: uppercase;
    margin-bottom: 6px;
  }

  .rank-tier-badge::before {
    content: '';
    width: 16px; height: 1px;
    background: rgba(0,212,255,0.35);
    display: inline-block;
  }

  .rank-class-name {
    font-family: 'Orbitron', sans-serif;
    font-size: 22px; font-weight: 900;
    letter-spacing: 4px;
    color: var(--text-primary);
    text-transform: uppercase;
    line-height: 1;
  }

  .rank-class-name .rank-accent {
    color: var(--cyan);
    text-shadow: var(--glow-cyan);
  }

  .rank-divider {
    width: 100%;
    height: 1px;
    background: linear-gradient(90deg, rgba(0,212,255,0.3), rgba(0,212,255,0.05), transparent);
    margin: 14px 0;
  }

  /* XP Architecture complète */
  .rank-xp-section { padding: 0 24px 20px; }

  .rank-xp-numbers {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    margin-bottom: 10px;
  }

  .xp-current-block { }
  .xp-current-val {
    font-family: 'Orbitron', sans-serif;
    font-size: 28px; font-weight: 700;
    color: var(--cyan);
    text-shadow: var(--glow-cyan);
    line-height: 1;
  }
  .xp-current-unit {
    font-family: 'Share Tech Mono', monospace;
    font-size: 9px; color: var(--text-secondary);
    letter-spacing: 2px; margin-left: 4px;
  }

  .xp-right-col { text-align: right; }
  .xp-remaining {
    font-family: 'Share Tech Mono', monospace;
    font-size: 11px; color: rgba(255,140,0,0.7);
    letter-spacing: 1px;
  }
  .xp-remaining-label {
    font-size: 8px; color: var(--text-secondary);
    letter-spacing: 2px; text-transform: uppercase;
    margin-top: 2px;
  }

  /* Barre XP hexagonale segmentée */
  .xp-bar-container { position: relative; margin-bottom: 8px; }

  .xp-bar-track {
    height: 12px;
    background: rgba(0,0,0,0.4);
    border: 1px solid rgba(0,212,255,0.12);
    border-radius: 1px;
    overflow: hidden;
    position: relative;
  }

  .xp-bar-fill {
    height: 100%;
    width: 68%;
    position: relative;
    background: linear-gradient(90deg, #0044cc 0%, #0088ff 50%, #00d4ff 100%);
    border-radius: 1px;
    animation: xpShimmer 3s ease-in-out infinite;
  }

  .xp-bar-fill::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 14px,
      rgba(0,0,0,0.25) 14px,
      rgba(0,0,0,0.25) 16px
    );
  }

  .xp-bar-fill::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 40%;
    background: linear-gradient(180deg, rgba(255,255,255,0.12), transparent);
    border-radius: 1px;
  }

  @keyframes xpShimmer {
    0%,100%{box-shadow:0 0 6px rgba(0,212,255,0.4)}
    50%{box-shadow:0 0 12px rgba(0,212,255,0.8), 0 0 24px rgba(0,212,255,0.2)}
  }

  .xp-glow-edge {
    position: absolute;
    top: 0; right: 0;
    width: 3px; height: 100%;
    background: var(--cyan);
    box-shadow: 0 0 8px rgba(0,212,255,1), 0 0 16px rgba(0,212,255,0.6);
    border-radius: 1px;
    animation: edgePulse 1.5s ease-in-out infinite;
  }
  @keyframes edgePulse { 0%,100%{opacity:1} 50%{opacity:0.5} }

  .xp-bar-pct {
    position: absolute;
    top: 50%; right: 8px;
    transform: translateY(-50%);
    font-family: 'Share Tech Mono', monospace;
    font-size: 8px; color: rgba(255,255,255,0.6);
    letter-spacing: 1px;
  }

  .xp-bar-labels {
    display: flex;
    justify-content: space-between;
    font-family: 'Share Tech Mono', monospace;
    font-size: 8px; color: var(--text-secondary); letter-spacing: 1px;
  }

  /* Next rank */
  .next-rank-strip {
    margin-top: 14px;
    padding: 10px 14px;
    background: rgba(255,140,0,0.04);
    border: 1px solid rgba(255,140,0,0.12);
    border-radius: 3px;
    display: flex; align-items: center; justify-content: space-between;
    position: relative; overflow: hidden;
  }

  .next-rank-strip::before {
    content: '';
    position: absolute; top: 0; left: 0; bottom: 0;
    width: 3px;
    background: linear-gradient(180deg, var(--amber), rgba(255,140,0,0.2));
    box-shadow: 0 0 6px rgba(255,140,0,0.5);
  }

  .next-rank-info { padding-left: 10px; }
  .next-rank-sublabel {
    font-family: 'Share Tech Mono', monospace;
    font-size: 7px; letter-spacing: 3px; color: var(--text-secondary); text-transform: uppercase;
    margin-bottom: 3px;
  }
  .next-rank-val {
    font-family: 'Orbitron', sans-serif;
    font-size: 12px; font-weight: 700; letter-spacing: 3px;
    color: var(--amber); text-shadow: var(--glow-amber);
    text-transform: uppercase;
  }
  .next-rank-xp {
    font-family: 'Share Tech Mono', monospace;
    font-size: 13px; color: rgba(255,140,0,0.6); letter-spacing: 2px;
  }
  .next-rank-xp span { color: var(--amber); font-size: 16px; }

  /* ==========================================
     ★★★ QUICK ACCESS — SVG ICONS
     ========================================== */
  .quick-pads-panel { padding: 22px; }

  .pads-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }

  .pad {
    position: relative;
    padding: 16px 14px 13px;
    background: rgba(0,0,0,0.2);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 9px;
    cursor: pointer;
    transition: all 0.22s cubic-bezier(0.2, 0, 0, 1);
    overflow: hidden;
    text-decoration: none;
    --pc: var(--cyan);
  }

  /* Corner notch */
  .pad::after {
    content: '';
    position: absolute;
    bottom: 0; right: 0;
    width: 10px; height: 10px;
    background: var(--pc);
    clip-path: polygon(100% 0, 100% 100%, 0 100%);
    opacity: 0.25;
    transition: opacity 0.22s;
  }

  /* Top accent line */
  .pad::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--pc), transparent);
    opacity: 0.3;
    transition: opacity 0.22s;
  }

  .pad:hover {
    border-color: var(--pc);
    background: rgba(0,0,0,0.35);
    transform: translateY(-2px);
    box-shadow: 0 4px 20px rgba(0,0,0,0.5), 0 0 0 1px var(--pc), inset 0 0 20px rgba(0,0,0,0.2);
  }

  .pad:hover::before { opacity: 0.8; }
  .pad:hover::after { opacity: 0.5; }
  .pad:hover .pad-icon-svg { filter: drop-shadow(0 0 5px var(--pc)); }
  .pad:hover .pad-label { color: var(--pc); }

  .pad:active { transform: translateY(0) scale(0.97); }

  .pad-icon-svg {
    width: 26px; height: 26px;
    transition: filter 0.22s;
    opacity: 0.75;
    flex-shrink: 0;
  }

  .pad-label {
    font-family: 'Share Tech Mono', monospace;
    font-size: 9px; letter-spacing: 2.5px;
    color: var(--text-secondary);
    text-transform: uppercase;
    text-align: center;
    transition: color 0.22s;
    line-height: 1.2;
  }

  .pad-hotkey {
    position: absolute;
    top: 5px; right: 7px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 7px; color: var(--pc);
    opacity: 0.3; letter-spacing: 1px;
  }

  /* Wide pad for last item */
  .pad.wide {
    grid-column: 1 / -1;
    flex-direction: row;
    justify-content: center;
    gap: 14px;
    padding: 12px 20px;
  }
  .pad.wide .pad-icon-svg { width: 20px; height: 20px; }
  .pad.wide .pad-label { font-size: 9px; }

  /* ==========================================
     ★★★ DEADLINE — FULL WIDTH HORIZONTAL
     ========================================== */
  .deadline-panel {
    padding: 0;
    border-color: rgba(255,23,68,0.3);
    background: linear-gradient(90deg,
      rgba(20,0,4,0.98) 0%,
      rgba(10,2,6,0.97) 40%,
      rgba(8,0,3,0.98) 100%
    );
    overflow: hidden;
  }

  .deadline-inner {
    display: grid;
    grid-template-columns: auto 1fr auto;
    align-items: center;
    gap: 0;
    min-height: 100px;
  }

  /* Left section — alert status */
  .deadline-left {
    padding: 20px 28px;
    border-right: 1px solid rgba(255,23,68,0.15);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    background: rgba(255,23,68,0.04);
    height: 100%;
    justify-content: center;
  }

  .deadline-alert-ring {
    position: relative;
    width: 44px; height: 44px;
    flex-shrink: 0;
  }

  .deadline-alert-ring svg {
    width: 44px; height: 44px;
    animation: ringRotate 8s linear infinite;
  }
  @keyframes ringRotate { to { transform: rotate(360deg); } }

  .deadline-alert-center {
    position: absolute; inset: 0;
    display: flex; align-items: center; justify-content: center;
    animation: alertPulse 1s ease-in-out infinite;
  }
  @keyframes alertPulse { 0%,100%{opacity:1} 50%{opacity:0.4} }

  .deadline-status-label {
    font-family: 'Share Tech Mono', monospace;
    font-size: 8px; letter-spacing: 3px;
    color: rgba(255,23,68,0.6);
    text-transform: uppercase;
    text-align: center;
    animation: blink 2s step-end infinite;
  }
  @keyframes blink { 50%{opacity:0} }

  /* Center — countdown + bar */
  .deadline-center { padding: 20px 28px; }

  .deadline-mission-label {
    font-family: 'Share Tech Mono', monospace;
    font-size: 8px; letter-spacing: 4px;
    color: rgba(255,23,68,0.4);
    text-transform: uppercase;
    margin-bottom: 12px;
  }

  .deadline-countdown-row {
    display: flex;
    align-items: center;
    gap: 0;
  }

  .deadline-unit {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .deadline-num {
    font-family: 'Orbitron', sans-serif;
    font-size: clamp(28px, 4vw, 48px);
    font-weight: 900;
    color: var(--red);
    text-shadow: var(--glow-red);
    line-height: 1;
    animation: numFlicker 2s ease-in-out infinite;
  }
  @keyframes numFlicker {
    0%,90%,100%{opacity:1}
    92%,97%{opacity:0.7}
  }

  .deadline-colon {
    font-family: 'Orbitron', sans-serif;
    font-size: clamp(22px, 3vw, 36px);
    font-weight: 700;
    color: rgba(255,23,68,0.3);
    margin: 0 6px 12px;
    animation: colonBlink 1s step-end infinite;
  }
  @keyframes colonBlink { 50%{opacity:0.1} }

  .deadline-unit-label {
    font-family: 'Share Tech Mono', monospace;
    font-size: 7px; letter-spacing: 2px;
    color: rgba(255,23,68,0.35);
    text-transform: uppercase;
    margin-top: 4px;
  }

  /* Progress bar */
  .deadline-progress-section { margin-top: 14px; }

  .deadline-bar-header {
    display: flex; justify-content: space-between;
    font-family: 'Share Tech Mono', monospace;
    font-size: 8px; letter-spacing: 2px;
    color: rgba(255,23,68,0.35);
    margin-bottom: 5px;
  }

  .deadline-bar-track {
    height: 6px;
    background: rgba(255,23,68,0.06);
    border: 1px solid rgba(255,23,68,0.12);
    border-radius: 1px;
    position: relative;
    overflow: hidden;
  }

  .deadline-bar-fill {
    height: 100%;
    width: 78%;
    background: linear-gradient(90deg, rgba(255,100,0,0.7), rgba(255,23,68,0.9));
    box-shadow: 0 0 8px rgba(255,23,68,0.5);
    border-radius: 1px;
    position: relative;
  }

  .deadline-bar-fill::after {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 50%;
    background: rgba(255,255,255,0.08);
  }

  .deadline-bar-pulse {
    position: absolute;
    top: 0; right: 0;
    width: 20px; height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,100,100,0.6));
    animation: barPulse 2s ease-in-out infinite;
  }
  @keyframes barPulse { 0%,100%{opacity:0} 50%{opacity:1} }

  /* Right section — pact info */
  .deadline-right {
    padding: 20px 28px;
    border-left: 1px solid rgba(255,23,68,0.12);
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 14px;
    background: rgba(255,23,68,0.02);
    min-width: 180px;
  }

  .deadline-info-row {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }

  .deadline-info-key {
    font-family: 'Share Tech Mono', monospace;
    font-size: 7px; letter-spacing: 3px;
    color: rgba(255,23,68,0.35);
    text-transform: uppercase;
  }

  .deadline-info-val {
    font-family: 'Share Tech Mono', monospace;
    font-size: 11px; letter-spacing: 1px;
    color: rgba(255,140,140,0.7);
  }

  .deadline-info-val.critical {
    color: var(--red);
    text-shadow: 0 0 6px rgba(255,23,68,0.5);
    font-size: 12px;
  }

  /* Ambient glow effect */
  .deadline-panel::after {
    content: '';
    position: absolute;
    top: 0; bottom: 0; left: 0;
    width: 3px;
    background: linear-gradient(180deg, rgba(255,23,68,0.8), rgba(255,23,68,0.1));
    box-shadow: 0 0 12px rgba(255,23,68,0.6);
  }

  @media(max-width:700px) {
    .deadline-inner { grid-template-columns: 1fr; }
    .deadline-left { flex-direction:row; border-right:none; border-bottom:1px solid rgba(255,23,68,0.15); height:auto; }
    .deadline-right { border-left:none; border-top:1px solid rgba(255,23,68,0.12); flex-direction:row; flex-wrap:wrap; gap:12px; }
  }

  /* ===== MISSION RANDOMIZER ===== */
  .mission-panel {
    padding: 0;
    border-color: rgba(255,140,0,0.22);
    background: linear-gradient(145deg, rgba(10,8,0,0.98) 0%, rgba(5,6,14,0.98) 100%);
    grid-column: 1 / -1;
  }

  .mission-panel-header {
    padding: 14px 24px;
    background: linear-gradient(90deg, rgba(255,140,0,0.07), rgba(255,140,0,0.02), transparent);
    border-bottom: 1px solid rgba(255,140,0,0.12);
    display: flex; align-items: center; justify-content: space-between;
  }

  .mission-panel-title {
    font-family: 'Orbitron', sans-serif;
    font-size: 11px; font-weight: 700;
    letter-spacing: 4px; color: var(--amber);
    text-shadow: var(--glow-amber);
    text-transform: uppercase;
    display: flex; align-items: center; gap: 10px;
  }

  .mission-panel-title-icon {
    width: 16px; height: 16px;
    animation: rotateSlow 6s linear infinite;
    display: inline-block;
  }
  @keyframes rotateSlow { to { transform: rotate(360deg); } }

  .mission-status-badge {
    font-family: 'Share Tech Mono', monospace;
    font-size: 9px; letter-spacing: 2px;
    padding: 3px 10px;
    border: 1px solid rgba(255,140,0,0.3);
    color: var(--amber);
    background: rgba(255,140,0,0.06);
    clip-path: polygon(6px 0%,100% 0%,calc(100% - 6px) 100%,0% 100%);
  }

  .mission-body { padding: 20px 24px 24px; display: grid; grid-template-columns: 1fr auto; gap: 20px; align-items: start; }
  @media(max-width:700px){ .mission-body{grid-template-columns:1fr;} }

  .mission-card {
    background: rgba(0,0,0,0.4);
    border: 1px solid rgba(255,140,0,0.13);
    border-radius: 3px;
    min-height: 190px;
    position: relative;
    overflow: hidden;
  }

  .mission-card-scan-line {
    position: absolute; top: 0; left: 0; right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--amber), transparent);
    animation: cardScan 3s ease-in-out infinite;
    opacity: 0;
  }
  .mission-card-scan-line.active { opacity: 1; }
  @keyframes cardScan { 0%{top:0;opacity:0} 5%{opacity:1} 95%{opacity:1} 100%{top:100%;opacity:0} }

  .mission-card-top {
    padding: 10px 16px 8px;
    border-bottom: 1px solid rgba(255,140,0,0.08);
    display: flex; align-items: center; justify-content: space-between;
  }

  .mission-id { font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:rgba(255,140,0,0.35); }

  .mission-diff-tag {
    font-family:'Orbitron',sans-serif;font-size:8px;font-weight:700;
    letter-spacing:2px;padding:2px 8px;border-radius:2px;text-transform:uppercase;
  }

  .mission-card-content { padding: 14px 16px; }
  .mission-type-label { font-family:'Orbitron',sans-serif;font-size:9px;letter-spacing:3px;color:var(--amber);margin-bottom:8px;display:flex;align-items:center;gap:6px; }
  .mission-type-label::after{content:'';flex:1;height:1px;background:linear-gradient(90deg,rgba(255,140,0,0.25),transparent)}
  .mission-title-text { font-family:'Orbitron',sans-serif;font-size:16px;font-weight:700;color:var(--text-primary);letter-spacing:1px;line-height:1.3;margin-bottom:8px; }
  .mission-desc-text { font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--text-secondary);line-height:1.7;letter-spacing:0.5px; }
  .mission-objectives { margin-top:10px;display:flex;flex-direction:column;gap:5px; }
  .mission-obj { display:flex;align-items:center;gap:8px;font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--text-secondary); }
  .mission-obj::before { content:'▷';color:var(--amber);font-size:8px;flex-shrink:0; }
  .mission-card-footer { padding:10px 16px;border-top:1px solid rgba(255,140,0,0.08);display:flex;align-items:center;justify-content:space-between;background:rgba(255,140,0,0.02); }
  .reward-label { font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--text-secondary);letter-spacing:1px; }
  .reward-xp { font-family:'Orbitron',sans-serif;font-size:13px;font-weight:700; }
  .mission-timer-display { font-family:'Share Tech Mono',monospace;font-size:10px;color:rgba(255,140,0,0.4);letter-spacing:2px; }

  .mission-idle { display:flex;flex-direction:column;align-items:center;justify-content:center;height:170px;gap:10px; }
  .mission-idle-icon { opacity:0.15;animation:idlePulse 3s ease-in-out infinite; }
  @keyframes idlePulse{0%,100%{opacity:0.12;transform:scale(1)}50%{opacity:0.3;transform:scale(1.05)}}
  .mission-idle-text{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;color:rgba(255,140,0,0.28);text-transform:uppercase}

  .mission-scanning { display:none;flex-direction:column;align-items:center;justify-content:center;height:170px;gap:14px; }
  .scan-ring-outer { width:56px;height:56px;position:relative; }
  .scan-ring-outer svg{width:56px;height:56px;animation:rotateFast 1.5s linear infinite}
  @keyframes rotateFast{to{transform:rotate(360deg)}}
  .scan-ring-inner{position:absolute;inset:12px;border:1px solid rgba(255,140,0,0.25);border-radius:50%;animation:rotateFast 2s linear infinite reverse}
  .scan-ring-center{position:absolute;inset:0;display:flex;align-items:center;justify-content:center}
  .scan-status-text{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;color:var(--amber);animation:blink 0.5s step-end infinite}
  .scan-bar-track{width:180px;height:3px;background:rgba(255,140,0,0.08);border-radius:1px;overflow:hidden}
  .scan-bar-fill{height:100%;width:0%;background:linear-gradient(90deg,var(--amber),var(--gold));box-shadow:var(--glow-amber);border-radius:1px;transition:width 0.1s linear}

  .mission-controls { display:flex;flex-direction:column;gap:12px;width:155px;flex-shrink:0; }
  @media(max-width:700px){.mission-controls{width:100%;flex-direction:row;flex-wrap:wrap}}

  .scan-btn {
    width:100%;padding:13px 10px;
    background:linear-gradient(135deg,rgba(255,140,0,0.08),rgba(255,140,0,0.03));
    border:1px solid rgba(255,140,0,0.38);color:var(--amber);
    font-family:'Orbitron',sans-serif;font-size:10px;font-weight:700;
    letter-spacing:3px;text-transform:uppercase;cursor:pointer;border-radius:var(--radius);
    clip-path:polygon(10px 0%,100% 0%,calc(100% - 10px) 100%,0% 100%);
    transition:all 0.2s;position:relative;overflow:hidden;text-align:center;
  }
  .scan-btn::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,140,0,0.18),transparent);transition:left 0.5s}
  .scan-btn:hover{box-shadow:var(--glow-amber);border-color:var(--amber)}
  .scan-btn:hover::before{left:100%}
  .scan-btn:active{transform:scale(0.97)}

  .mission-meta-box{background:rgba(0,0,0,0.22);border:1px solid rgba(255,140,0,0.09);border-radius:3px;padding:10px}
  .mission-meta-row{display:flex;justify-content:space-between;align-items:center;padding:3px 0;border-bottom:1px solid rgba(255,255,255,0.03)}
  .mission-meta-row:last-child{border-bottom:none}
  .meta-key{font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:1px;color:var(--text-secondary);text-transform:uppercase}
  .meta-val{font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--text-primary)}

  .diff-filter-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:4px}
  .diff-filter{padding:5px 0;text-align:center;font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:1px;border:1px solid var(--df-border,rgba(255,255,255,0.1));border-radius:2px;cursor:pointer;color:var(--df-color,var(--text-secondary));background:var(--df-bg,rgba(255,255,255,0.02));transition:all 0.15s;text-transform:uppercase}
  .diff-filter.active{box-shadow:0 0 5px var(--df-color);opacity:1}

  /* ===== MONITORING ===== */
  .monitoring-panel{padding:28px}
  .monitoring-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:24px;margin-bottom:28px}
  @media(max-width:600px){.monitoring-grid{grid-template-columns:1fr}}
  .stat-gauge{display:flex;flex-direction:column;align-items:center;gap:12px}
  .gauge-svg-wrap{width:100px;height:100px;position:relative}
  .gauge-bg{fill:none;stroke:rgba(255,255,255,0.04);stroke-width:8}
  .gauge-fill{fill:none;stroke-width:8;stroke-linecap:round;stroke-dasharray:190;stroke-dashoffset:var(--offset,60);transform:rotate(135deg);transform-origin:center;animation:gaugeDraw 1.8s ease-out forwards}
  @keyframes gaugeDraw{from{stroke-dashoffset:190}to{stroke-dashoffset:var(--offset,60)}}
  .gauge-center-text{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center}
  .gauge-pct{font-family:'Orbitron',sans-serif;font-size:16px;font-weight:700}
  .gauge-sub{font-size:7px;letter-spacing:1px;color:var(--text-secondary);margin-top:2px}
  .stat-gauge-label{font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:3px;color:var(--text-secondary);text-transform:uppercase}
  .timeline-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
  .timeline-label{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:3px;color:var(--text-secondary);text-transform:uppercase}
  .timeline-pos{font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--cyan)}
  .timeline-track{height:22px;background:rgba(0,212,255,0.03);border:1px solid var(--border);border-radius:2px;position:relative;overflow:hidden}
  .timeline-fill{position:absolute;top:0;left:0;height:100%;width:67%;background:linear-gradient(90deg,rgba(0,80,200,0.22),rgba(0,212,255,0.42));border-right:2px solid var(--cyan)}
  .timeline-fill::after{content:'';position:absolute;top:0;right:-1px;height:100%;width:2px;background:var(--cyan);box-shadow:var(--glow-cyan);animation:timelineGlow 2s ease-in-out infinite}
  @keyframes timelineGlow{0%,100%{box-shadow:0 0 6px var(--cyan),0 0 18px rgba(0,212,255,0.3)}50%{box-shadow:0 0 14px var(--cyan),0 0 36px rgba(0,212,255,0.6)}}
  .timeline-markers{display:flex;justify-content:space-between;margin-top:6px}
  .timeline-marker{font-family:'Share Tech Mono',monospace;font-size:8px;color:rgba(255,255,255,0.17);letter-spacing:1px}

  /* ===== ANANTA SCALE ===== */
  .ananta-panel{padding:28px}
  .ananta-grid{display:grid;grid-template-columns:repeat(6,1fr);gap:12px;margin-top:16px}
  @media(max-width:900px){.ananta-grid{grid-template-columns:repeat(3,1fr)}}
  @media(max-width:500px){.ananta-grid{grid-template-columns:repeat(2,1fr)}}
  .difficulty-card{position:relative;padding:16px 12px;border:1px solid var(--diff-border,rgba(255,255,255,0.1));border-radius:var(--radius);background:rgba(0,0,0,0.2);overflow:hidden;transition:transform 0.2s;cursor:default}
  .difficulty-card:hover{transform:translateY(-2px)}
  .difficulty-card::before{content:'';position:absolute;bottom:0;left:0;width:100%;height:var(--fill,50%);background:var(--diff-bg,rgba(255,255,255,0.05));transition:height 0.8s cubic-bezier(0.4,0,0.2,1)}
  .diff-name{font-family:'Share Tech Mono',monospace;font-size:9px;letter-spacing:2px;color:var(--diff-color,white);text-transform:uppercase;position:relative;z-index:1;margin-bottom:12px;text-shadow:0 0 8px var(--diff-color,white)}
  .diff-number{font-family:'Orbitron',sans-serif;font-size:22px;font-weight:700;color:var(--diff-color,white);position:relative;z-index:1;line-height:1}
  .diff-sub{font-size:8px;letter-spacing:1px;color:rgba(255,255,255,0.32);position:relative;z-index:1;margin-top:4px}
  .diff-indicator{position:absolute;top:0;left:0;right:0;height:2px;background:var(--diff-color,white);box-shadow:0 0 6px var(--diff-color,white)}

  /* ===== ANIM ===== */
  @keyframes fadeIn{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}
  .hero{animation:fadeIn 0.8s ease-out 0.1s both}
  .command-grid{animation:fadeIn 0.8s ease-out 0.25s both}
  .deadline-panel{animation:fadeIn 0.8s ease-out 0.4s both}
  .mission-panel-wrap{animation:fadeIn 0.8s ease-out 0.5s both}
  .monitoring-panel{animation:fadeIn 0.8s ease-out 0.6s both}
  .ananta-panel{animation:fadeIn 0.8s ease-out 0.75s both}

  @media(max-width:600px){
    .hero{padding:32px 16px} .hero-stats-row{gap:20px} .bar-coords{display:none} .neural-bar{padding:0 12px}
    .rank-hex-level{font-size:18px} .rank-class-name{font-size:18px}
  }
</style>
</head>
<body>

<!-- NEURAL BAR -->
<header class="neural-bar">
  <div class="bar-left">
    <span style="font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--text-secondary);letter-spacing:2px">SYS</span>
    <div class="global-progress-track"><div class="global-progress-fill"></div></div>
    <span class="bar-coords" style="font-family:'Share Tech Mono',monospace;font-size:9px">LAT 48.8566°N // LON 2.3522°E</span>
  </div>
  <div class="bar-center">
    <div class="datetime-widget" id="clock">--:--:--</div>
    <div class="datetime-date" id="date-display">INITIALIZING...</div>
  </div>
  <div class="bar-right">
    <div class="freq-indicator">
      <div class="freq-bars">
        <div class="freq-bar"></div><div class="freq-bar"></div><div class="freq-bar"></div><div class="freq-bar"></div><div class="freq-bar"></div>
      </div>
      2.4GHz
    </div>
    <button class="customize-btn">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M12 2v2M12 20v2M2 12h2M20 12h2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41"/></svg>
      CUSTOMIZE
    </button>
  </div>
</header>

<main class="os-main">

  <!-- HERO -->
  <section class="panel hero">
    <div class="panel-corner tl"></div><div class="panel-corner tr"></div>
    <div class="panel-corner bl"></div><div class="panel-corner br"></div>
    <div class="hero-bg-grid"></div>
    <div class="hero-glow"></div>
    <div class="logo-hex">N</div>
    <h1 class="project-name">NEXUS<span class="accent">OS</span></h1>
    <p class="project-slogan">Neural Execution & Unified Experience System</p>
    <div class="hero-stats-row">
      <div class="hero-stat"><div class="hero-stat-val">67%</div><div class="hero-stat-label">Progression</div></div>
      <div class="hero-stat"><div class="hero-stat-val">LVL 42</div><div class="hero-stat-label">Rang</div></div>
      <div class="hero-stat"><div class="hero-stat-val">127</div><div class="hero-stat-label">Missions</div></div>
      <div class="hero-stat"><div class="hero-stat-val" style="color:var(--amber);text-shadow:var(--glow-amber)">23</div><div class="hero-stat-label">Jours actifs</div></div>
    </div>
  </section>

  <!-- COMMAND GRID -->
  <div class="command-grid">

    <!-- ★★★ RANG NEURAL v3 -->
    <div class="panel rank-panel">
      <div class="panel-corner tl"></div><div class="panel-corner tr"></div>
      <div class="panel-corner bl"></div><div class="panel-corner br"></div>

      <div class="rank-header">
        <!-- Hexagone SVG identité -->
        <div class="rank-hex-wrap">
          <svg class="rank-hex-svg" viewBox="0 0 80 92">
            <defs>
              <linearGradient id="hexGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#0040aa" stop-opacity="0.9"/>
                <stop offset="100%" stop-color="#0090cc" stop-opacity="0.7"/>
              </linearGradient>
              <linearGradient id="hexStroke" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#0080ff"/>
                <stop offset="100%" stop-color="#00d4ff"/>
              </linearGradient>
            </defs>
            <!-- Outer hex -->
            <polygon points="40,4 76,23 76,69 40,88 4,69 4,23" fill="url(#hexGrad)" stroke="url(#hexStroke)" stroke-width="1.5"/>
            <!-- Inner hex ring -->
            <polygon points="40,12 68,27 68,65 40,80 12,65 12,27" fill="none" stroke="rgba(0,212,255,0.2)" stroke-width="1"/>
            <!-- Corner accents -->
            <polygon points="40,4 52,10 52,18 40,12 28,18 28,10" fill="rgba(0,212,255,0.15)"/>
            <polygon points="40,88 52,82 52,74 40,80 28,74 28,82" fill="rgba(0,212,255,0.08)"/>
            <!-- Scan line effect -->
            <line x1="12" y1="46" x2="68" y2="46" stroke="rgba(0,212,255,0.1)" stroke-width="1"/>
          </svg>
          <div class="rank-hex-inner">
            <span class="rank-hex-level">42</span>
            <span class="rank-hex-sublabel">LEVEL</span>
          </div>
        </div>

        <!-- Identity info -->
        <div class="rank-identity">
          <div class="rank-tier-badge">TIER IV · CLASSE S</div>
          <div class="rank-class-name">SPEC<span class="rank-accent">TRE</span></div>
          <div class="rank-divider"></div>
          <div style="font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--text-secondary);letter-spacing:2px;line-height:1.8">
            RANG ACTUEL<br>
            <span style="color:var(--text-primary);font-size:11px">Spectre · Classe Neurale S</span>
          </div>
        </div>
      </div>

      <!-- XP Section -->
      <div class="rank-xp-section">
        <div class="rank-divider" style="margin-top:16px"></div>

        <div class="rank-xp-numbers">
          <div class="xp-current-block">
            <span class="xp-current-val">6 800</span>
            <span class="xp-current-unit">XP</span>
          </div>
          <div class="xp-right-col">
            <div class="xp-remaining">− 3 200 XP</div>
            <div class="xp-remaining-label">restant</div>
          </div>
        </div>

        <div class="xp-bar-container">
          <div class="xp-bar-track">
            <div class="xp-bar-fill">
              <div class="xp-glow-edge"></div>
            </div>
            <span class="xp-bar-pct">68%</span>
          </div>
        </div>

        <div class="xp-bar-labels">
          <span>0</span>
          <span>10 000 XP</span>
        </div>

        <!-- Next rank -->
        <div class="next-rank-strip">
          <div class="next-rank-info">
            <div class="next-rank-sublabel">Prochain rang</div>
            <div class="next-rank-val">Phantom · LVL 43</div>
          </div>
          <div>
            <div class="next-rank-xp"><span>3 200</span> XP</div>
          </div>
        </div>

      </div>
    </div>

    <!-- ★★★ QUICK ACCESS SVG -->
    <div class="panel quick-pads-panel">
      <div class="panel-corner tl"></div><div class="panel-corner tr"></div>
      <div class="panel-corner bl"></div><div class="panel-corner br"></div>
      <div class="panel-label">Accès Rapide</div>

      <div class="pads-grid">

        <!-- NEW GOAL -->
        <button class="pad" style="--pc:#00d4ff">
          <span class="pad-hotkey">F1</span>
          <svg class="pad-icon-svg" viewBox="0 0 26 26" fill="none" stroke="#00d4ff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="13" cy="13" r="10" stroke-opacity="0.4"/>
            <circle cx="13" cy="13" r="6" stroke-opacity="0.7"/>
            <circle cx="13" cy="13" r="2" fill="#00d4ff" stroke="none"/>
            <line x1="13" y1="1" x2="13" y2="5"/>
            <line x1="13" y1="21" x2="13" y2="25"/>
            <line x1="1" y1="13" x2="5" y2="13"/>
            <line x1="21" y1="13" x2="25" y2="13"/>
          </svg>
          <span class="pad-label">New Goal</span>
        </button>

        <!-- NEW TASK -->
        <button class="pad" style="--pc:#ff8c00">
          <span class="pad-hotkey" style="color:#ff8c00">F2</span>
          <svg class="pad-icon-svg" viewBox="0 0 26 26" fill="none" stroke="#ff8c00" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="13,2 16,10 25,10 18,15 20,24 13,19 6,24 8,15 1,10 10,10" stroke-opacity="0.8"/>
            <circle cx="13" cy="13" r="3" fill="rgba(255,140,0,0.25)" stroke="none"/>
          </svg>
          <span class="pad-label">New Task</span>
        </button>

        <!-- JOURNAL -->
        <button class="pad" style="--pc:#aa44ff">
          <span class="pad-hotkey" style="color:#aa44ff">F3</span>
          <svg class="pad-icon-svg" viewBox="0 0 26 26" fill="none" stroke="#aa44ff" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
            <rect x="5" y="3" width="16" height="20" rx="1" stroke-opacity="0.5"/>
            <rect x="3" y="3" width="4" height="20" rx="1" fill="rgba(170,68,255,0.15)" stroke-opacity="0.8"/>
            <line x1="9" y1="9" x2="19" y2="9" stroke-opacity="0.7"/>
            <line x1="9" y1="13" x2="19" y2="13" stroke-opacity="0.7"/>
            <line x1="9" y1="17" x2="15" y2="17" stroke-opacity="0.5"/>
          </svg>
          <span class="pad-label">Journal</span>
        </button>

        <!-- HEALTH -->
        <button class="pad" style="--pc:#00ff88">
          <span class="pad-hotkey" style="color:#00ff88">F4</span>
          <svg class="pad-icon-svg" viewBox="0 0 26 26" fill="none" stroke="#00ff88" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
            <path d="M13 22 C13 22 3 16 3 9 C3 6 5.5 4 8.5 4 C10.5 4 12 5 13 6.5 C14 5 15.5 4 17.5 4 C20.5 4 23 6 23 9 C23 16 13 22 13 22Z" stroke-opacity="0.8"/>
            <line x1="10" y1="13" x2="16" y2="13" stroke-opacity="0.9"/>
            <line x1="13" y1="10" x2="13" y2="16" stroke-opacity="0.9"/>
          </svg>
          <span class="pad-label">Health</span>
        </button>

        <!-- TO-DO — wide -->
        <button class="pad wide" style="--pc:#ffd700">
          <span class="pad-hotkey" style="color:#ffd700;right:10px">F5</span>
          <svg class="pad-icon-svg" viewBox="0 0 26 26" fill="none" stroke="#ffd700" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="20" height="20" rx="2" stroke-opacity="0.4"/>
            <polyline points="7,9 10,12 19,7" stroke-opacity="0.9"/>
            <line x1="7" y1="14" x2="19" y2="14" stroke-opacity="0.5"/>
            <line x1="7" y1="18" x2="14" y2="18" stroke-opacity="0.4"/>
          </svg>
          <span class="pad-label">To-Do List</span>
        </button>

      </div>
    </div>

  </div>

  <!-- ★★★ DEADLINE FULL WIDTH -->
  <div class="panel deadline-panel">
    <div class="panel-corner tl"></div><div class="panel-corner tr"></div>
    <div class="panel-corner bl"></div><div class="panel-corner br"></div>

    <div class="deadline-inner">

      <!-- Left: Alert status -->
      <div class="deadline-left">
        <div class="deadline-alert-ring">
          <svg viewBox="0 0 44 44">
            <defs>
              <linearGradient id="alertGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" stop-color="#ff1744"/>
                <stop offset="100%" stop-color="#ff8c00"/>
              </linearGradient>
            </defs>
            <circle cx="22" cy="22" r="20" fill="none" stroke="rgba(255,23,68,0.1)" stroke-width="2"/>
            <circle cx="22" cy="22" r="20" fill="none" stroke="url(#alertGrad)" stroke-width="2"
              stroke-dasharray="30 95" stroke-linecap="round"/>
            <circle cx="22" cy="22" r="14" fill="none" stroke="rgba(255,23,68,0.15)" stroke-width="1"/>
          </svg>
          <div class="deadline-alert-center">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#ff1744" stroke-width="2.5" stroke-linecap="round">
              <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
              <line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/>
            </svg>
          </div>
        </div>
        <div class="deadline-status-label">ALERTE<br>CRITIQUE</div>
      </div>

      <!-- Center: Countdown + bar -->
      <div class="deadline-center">
        <div class="deadline-mission-label">⬝ PACTE EN COURS — PHASE TERMINALE — COMPTE À REBOURS ACTIF</div>

        <div class="deadline-countdown-row">
          <div class="deadline-unit">
            <div class="deadline-num" id="cd-days">04</div>
            <div class="deadline-unit-label">JOURS</div>
          </div>
          <div class="deadline-colon">:</div>
          <div class="deadline-unit">
            <div class="deadline-num" id="cd-hrs">17</div>
            <div class="deadline-unit-label">HEURES</div>
          </div>
          <div class="deadline-colon">:</div>
          <div class="deadline-unit">
            <div class="deadline-num" id="cd-min">32</div>
            <div class="deadline-unit-label">MIN</div>
          </div>
          <div class="deadline-colon">:</div>
          <div class="deadline-unit">
            <div class="deadline-num" id="cd-sec">09</div>
            <div class="deadline-unit-label">SEC</div>
          </div>
        </div>

        <div class="deadline-progress-section">
          <div class="deadline-bar-header">
            <span>DÉBUT · 01 FÉV</span>
            <span>78% ÉCOULÉ</span>
            <span>FIN · 04 MAR</span>
          </div>
          <div class="deadline-bar-track">
            <div class="deadline-bar-fill">
              <div class="deadline-bar-pulse"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Right: Info -->
      <div class="deadline-right">
        <div class="deadline-info-row">
          <span class="deadline-info-key">Nom du pacte</span>
          <span class="deadline-info-val">OPERATION ASCENSION</span>
        </div>
        <div class="deadline-info-row">
          <span class="deadline-info-key">Durée totale</span>
          <span class="deadline-info-val">30 jours</span>
        </div>
        <div class="deadline-info-row">
          <span class="deadline-info-key">Statut</span>
          <span class="deadline-info-val critical">⚠ CRITIQUE</span>
        </div>
        <div class="deadline-info-row">
          <span class="deadline-info-key">Complétion obj.</span>
          <span class="deadline-info-val">18 / 25</span>
        </div>
      </div>

    </div>
  </div>

  <!-- MISSION RANDOMIZER -->
  <div class="panel mission-panel mission-panel-wrap">
    <div class="panel-corner tl"></div><div class="panel-corner tr"></div>
    <div class="panel-corner bl"></div><div class="panel-corner br"></div>

    <div class="mission-panel-header">
      <div class="mission-panel-title">
        <svg class="mission-panel-title-icon" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
          <polygon points="8,1 15,4.5 15,11.5 8,15 1,11.5 1,4.5"/>
          <circle cx="8" cy="8" r="2.5"/>
        </svg>
        Mission Randomizer
      </div>
      <div class="mission-status-badge" id="missionStatusBadge">STANDBY</div>
    </div>

    <div class="mission-body">
      <div id="missionCard" class="mission-card">
        <div class="mission-card-scan-line" id="scanLine"></div>
        <div class="mission-idle" id="missionIdle">
          <svg class="mission-idle-icon" width="40" height="40" viewBox="0 0 40 40" fill="none" stroke="rgba(255,140,0,0.6)" stroke-width="1.5">
            <polygon points="20,3 37,12 37,28 20,37 3,28 3,12"/>
            <circle cx="20" cy="20" r="7"/>
            <line x1="20" y1="3" x2="20" y2="13"/><line x1="20" y1="27" x2="20" y2="37"/>
            <line x1="3" y1="20" x2="13" y2="20"/><line x1="27" y1="20" x2="37" y2="20"/>
          </svg>
          <div class="mission-idle-text">Initialiser le scan de mission</div>
        </div>
        <div class="mission-scanning" id="missionScanning">
          <div class="scan-ring-outer">
            <svg viewBox="0 0 56 56">
              <circle cx="28" cy="28" r="24" fill="none" stroke="rgba(255,140,0,0.15)" stroke-width="2"/>
              <circle cx="28" cy="28" r="24" fill="none" stroke="rgba(255,140,0,0.8)" stroke-width="2" stroke-dasharray="35 115" stroke-linecap="round"/>
            </svg>
            <div class="scan-ring-inner"></div>
            <div class="scan-ring-center">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="rgba(255,140,0,0.6)" stroke-width="1.5"><polygon points="8,1 15,4.5 15,11.5 8,15 1,11.5 1,4.5"/></svg>
            </div>
          </div>
          <div class="scan-status-text" id="scanText">SCANNING DATABASE...</div>
          <div class="scan-bar-track"><div class="scan-bar-fill" id="scanBarFill"></div></div>
        </div>
        <div id="missionResult" style="display:none">
          <div class="mission-card-top">
            <span class="mission-id" id="missionIdDisplay">MSN-0000</span>
            <span class="mission-diff-tag" id="missionDiffTag"></span>
          </div>
          <div class="mission-card-content">
            <div class="mission-type-label" id="missionTypeLabel">OPÉRATION</div>
            <div class="mission-title-text" id="missionTitleText">–</div>
            <div class="mission-desc-text" id="missionDescText">–</div>
            <div class="mission-objectives" id="missionObjList"></div>
          </div>
          <div class="mission-card-footer">
            <div style="display:flex;align-items:center;gap:8px">
              <span class="reward-label">RÉCOMPENSE</span>
              <span class="reward-xp" id="missionXP">+000 XP</span>
            </div>
            <div class="mission-timer-display" id="missionTimerDisplay">∞</div>
          </div>
        </div>
      </div>

      <div class="mission-controls">
        <button class="scan-btn" onclick="generateMission()">⟳ SCAN</button>
        <div class="mission-meta-box">
          <div style="font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;color:rgba(255,140,0,0.35);margin-bottom:6px;text-transform:uppercase;">Statistiques</div>
          <div class="mission-meta-row"><span class="meta-key">Générées</span><span class="meta-val" id="genCount">0</span></div>
          <div class="mission-meta-row"><span class="meta-key">Acceptées</span><span class="meta-val" id="accCount">0</span></div>
        </div>
        <div>
          <div style="font-family:'Share Tech Mono',monospace;font-size:8px;letter-spacing:2px;color:rgba(255,140,0,0.35);margin-bottom:6px;text-transform:uppercase;">Filtre diff.</div>
          <div class="diff-filter-grid">
            <div class="diff-filter active" style="--df-color:#00ff88;--df-border:rgba(0,255,136,0.3);--df-bg:rgba(0,255,136,0.05)" data-diff="easy">Easy</div>
            <div class="diff-filter active" style="--df-color:#00d4ff;--df-border:rgba(0,212,255,0.3);--df-bg:rgba(0,212,255,0.05)" data-diff="medium">Med</div>
            <div class="diff-filter active" style="--df-color:#ff8c00;--df-border:rgba(255,140,0,0.3);--df-bg:rgba(255,140,0,0.05)" data-diff="hard">Hard</div>
            <div class="diff-filter active" style="--df-color:#ff3366;--df-border:rgba(255,51,102,0.3);--df-bg:rgba(255,51,102,0.05)" data-diff="extreme">Ext</div>
            <div class="diff-filter active" style="--df-color:#cc00ff;--df-border:rgba(204,0,255,0.3);--df-bg:rgba(204,0,255,0.05)" data-diff="impossible">Imp</div>
            <div class="diff-filter active" style="--df-color:#ff00aa;--df-border:rgba(255,0,170,0.3);--df-bg:rgba(255,0,170,0.05)" data-diff="ananta">∞</div>
          </div>
        </div>
        <div id="acceptBtnWrap" style="display:none">
          <button class="scan-btn" style="background:linear-gradient(135deg,rgba(0,255,136,0.07),rgba(0,255,136,0.03));border-color:rgba(0,255,136,0.35);color:var(--green)" onclick="acceptMission()">✓ ACCEPTER</button>
        </div>
      </div>
    </div>
  </div>

  <!-- MONITORING -->
  <div class="panel monitoring-panel">
    <div class="panel-corner tl"></div><div class="panel-corner tr"></div>
    <div class="panel-corner bl"></div><div class="panel-corner br"></div>
    <div class="panel-label">Monitoring Global — Cycle Actuel</div>
    <div class="monitoring-grid">
      <div class="stat-gauge">
        <div class="gauge-svg-wrap">
          <svg viewBox="0 0 100 100" width="100" height="100">
            <defs><linearGradient id="g1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#0080ff"/><stop offset="100%" stop-color="#00d4ff"/></linearGradient></defs>
            <circle class="gauge-bg" cx="50" cy="50" r="40"/>
            <circle class="gauge-fill" cx="50" cy="50" r="40" style="stroke:url(#g1);--offset:60" stroke-dasharray="190" stroke-dashoffset="60"/>
          </svg>
          <div class="gauge-center-text"><div class="gauge-pct" style="color:var(--cyan);text-shadow:var(--glow-cyan)">72%</div><div class="gauge-sub">GOALS</div></div>
        </div>
        <div class="stat-gauge-label">Objectifs</div>
        <div style="font-size:10px;color:var(--text-secondary);font-family:'Share Tech Mono',monospace">18/25 complétés</div>
      </div>
      <div class="stat-gauge">
        <div class="gauge-svg-wrap">
          <svg viewBox="0 0 100 100" width="100" height="100">
            <defs><linearGradient id="g2" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#ff8c00"/><stop offset="100%" stop-color="#ffcc00"/></linearGradient></defs>
            <circle class="gauge-bg" cx="50" cy="50" r="40"/>
            <circle class="gauge-fill" cx="50" cy="50" r="40" style="stroke:url(#g2);--offset:80" stroke-dasharray="190" stroke-dashoffset="80"/>
          </svg>
          <div class="gauge-center-text"><div class="gauge-pct" style="color:var(--amber);text-shadow:var(--glow-amber)">58%</div><div class="gauge-sub">STEPS</div></div>
        </div>
        <div class="stat-gauge-label">Étapes</div>
        <div style="font-size:10px;color:var(--text-secondary);font-family:'Share Tech Mono',monospace">87/150 complétées</div>
      </div>
      <div class="stat-gauge">
        <div class="gauge-svg-wrap">
          <svg viewBox="0 0 100 100" width="100" height="100">
            <defs><linearGradient id="g3" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#00aa55"/><stop offset="100%" stop-color="#00ff88"/></linearGradient></defs>
            <circle class="gauge-bg" cx="50" cy="50" r="40"/>
            <circle class="gauge-fill" cx="50" cy="50" r="40" style="stroke:url(#g3);--offset:40" stroke-dasharray="190" stroke-dashoffset="40"/>
          </svg>
          <div class="gauge-center-text"><div class="gauge-pct" style="color:var(--green);text-shadow:var(--glow-green)">84%</div><div class="gauge-sub">HABITS</div></div>
        </div>
        <div class="stat-gauge-label">Habitudes</div>
        <div style="font-size:10px;color:var(--text-secondary);font-family:'Share Tech Mono',monospace">21/25 ce cycle</div>
      </div>
    </div>
    <div>
      <div class="timeline-header">
        <span class="timeline-label">Timeline du Cycle</span>
        <span class="timeline-pos" style="font-family:'Share Tech Mono',monospace">JOUR 20/30 — PHASE AVANCÉE</span>
      </div>
      <div class="timeline-track"><div class="timeline-fill"></div></div>
      <div class="timeline-markers">
        <span class="timeline-marker">J.01</span><span class="timeline-marker">J.10</span><span class="timeline-marker">J.15</span>
        <span class="timeline-marker" style="color:var(--cyan)">▶ J.20</span>
        <span class="timeline-marker">J.25</span><span class="timeline-marker">J.30</span>
      </div>
    </div>
  </div>

  <!-- ANANTA SCALE -->
  <div class="panel ananta-panel">
    <div class="panel-corner tl"></div><div class="panel-corner tr"></div>
    <div class="panel-corner bl"></div><div class="panel-corner br"></div>
    <div class="panel-label">L'Échelle Ananta — Progression par Difficulté</div>
    <div class="ananta-grid">
      <div class="difficulty-card" style="--diff-color:#00ff88;--diff-border:rgba(0,255,136,0.25);--diff-bg:rgba(0,255,136,0.07);--fill:75%"><div class="diff-indicator"></div><div class="diff-name">Easy</div><div class="diff-number" style="color:#00ff88;text-shadow:0 0 10px rgba(0,255,136,0.7)">47</div><div class="diff-sub">missions</div></div>
      <div class="difficulty-card" style="--diff-color:#00d4ff;--diff-border:rgba(0,212,255,0.25);--diff-bg:rgba(0,212,255,0.07);--fill:60%"><div class="diff-indicator"></div><div class="diff-name">Medium</div><div class="diff-number" style="color:#00d4ff;text-shadow:0 0 10px rgba(0,212,255,0.7)">38</div><div class="diff-sub">missions</div></div>
      <div class="difficulty-card" style="--diff-color:#ff8c00;--diff-border:rgba(255,140,0,0.25);--diff-bg:rgba(255,140,0,0.07);--fill:45%"><div class="diff-indicator"></div><div class="diff-name">Hard</div><div class="diff-number" style="color:#ff8c00;text-shadow:0 0 10px rgba(255,140,0,0.7)">22</div><div class="diff-sub">missions</div></div>
      <div class="difficulty-card" style="--diff-color:#ff3366;--diff-border:rgba(255,51,102,0.25);--diff-bg:rgba(255,51,102,0.07);--fill:30%"><div class="diff-indicator"></div><div class="diff-name">Extreme</div><div class="diff-number" style="color:#ff3366;text-shadow:0 0 10px rgba(255,51,102,0.7)">11</div><div class="diff-sub">missions</div></div>
      <div class="difficulty-card" style="--diff-color:#cc00ff;--diff-border:rgba(204,0,255,0.25);--diff-bg:rgba(204,0,255,0.07);--fill:15%"><div class="diff-indicator"></div><div class="diff-name">Impossible</div><div class="diff-number" style="color:#cc00ff;text-shadow:0 0 10px rgba(204,0,255,0.7)">04</div><div class="diff-sub">missions</div></div>
      <div class="difficulty-card" style="--diff-color:#ff00aa;--diff-border:rgba(255,0,170,0.3);--fill:5%">
        <div class="diff-indicator" style="background:linear-gradient(90deg,#8b00ff,#ff00aa);box-shadow:0 0 10px rgba(255,0,170,0.8)"></div>
        <div class="diff-name" style="background:linear-gradient(90deg,#8b00ff,#ff00aa);-webkit-background-clip:text;-webkit-text-fill-color:transparent">ANANTA</div>
        <div class="diff-number" style="background:linear-gradient(135deg,#8b00ff,#ff00aa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:28px">01</div>
        <div class="diff-sub" style="color:rgba(255,0,170,0.5)">∞ légendaire</div>
      </div>
    </div>
  </div>

</main>

<script>
// Clock
function updateClock() {
  const now = new Date(), p = n => String(n).padStart(2,'0');
  document.getElementById('clock').textContent = `${p(now.getHours())}:${p(now.getMinutes())}:${p(now.getSeconds())}`;
  const D=['DIM','LUN','MAR','MER','JEU','VEN','SAM'],M=['JAN','FÉV','MAR','AVR','MAI','JUN','JUL','AOÛ','SEP','OCT','NOV','DÉC'];
  document.getElementById('date-display').textContent=`${D[now.getDay()]} ${p(now.getDate())} ${M[now.getMonth()]} ${now.getFullYear()}`;
}
updateClock(); setInterval(updateClock,1000);

// Countdown
const target = new Date(Date.now() + (4*86400+17*3600+32*60+9)*1000);
function updateCountdown(){
  const diff=Math.max(0,target-Date.now()),p=n=>String(n).padStart(2,'0');
  document.getElementById('cd-days').textContent=p(Math.floor(diff/86400000));
  document.getElementById('cd-hrs').textContent=p(Math.floor(diff%86400000/3600000));
  document.getElementById('cd-min').textContent=p(Math.floor(diff%3600000/60000));
  document.getElementById('cd-sec').textContent=p(Math.floor(diff%60000/1000));
}
updateCountdown(); setInterval(updateCountdown,1000);

// Mission
const missions=[
  {id:'MSN-7741',diff:'easy',type:'PROTOCOLE STANDARD',title:'Opération Momentum',desc:'Exécuter la routine d\'activation neurale complète pour maximiser la fenêtre de performance.',objectives:['Compléter 3 tâches prioritaires','Valider 5 habitudes journalières','Logger une entrée journal'],xp:'+150 XP',timer:'24:00:00',color:'#00ff88',bg:'rgba(0,255,136,0.12)',label:'EASY'},
  {id:'MSN-4409',diff:'medium',type:'DÉFI COGNITIF',title:'Protocole Deep Focus',desc:'Session d\'apprentissage intensif en mode isolation. Synapses en surcharge contrôlée.',objectives:['2h de deep work sans interruption','Compléter 1 module de formation','Réduire les notifications à zéro'],xp:'+320 XP',timer:'06:00:00',color:'#00d4ff',bg:'rgba(0,212,255,0.12)',label:'MEDIUM'},
  {id:'MSN-9923',diff:'hard',type:'MISSION DE COMBAT',title:'Assaut sur les Objectifs',desc:'Mode tactique activé. Neutralisation de tous les blocages prioritaires avant minuit.',objectives:['Finir 5 tâches HARD de la file','Résoudre 1 blocage critique','Mise à jour du rapport de progression'],xp:'+580 XP',timer:'08:00:00',color:'#ff8c00',bg:'rgba(255,140,0,0.12)',label:'HARD'},
  {id:'MSN-2201',diff:'extreme',type:'OPÉRATION EXTREME',title:'Convergence Totale',desc:'Tous les systèmes à pleine puissance. Objectifs critiques, habitudes, journal ET formation.',objectives:['Compléter TOUS les goals du jour','Run matinal 5km','Session 90min sans pause'],xp:'+1 200 XP',timer:'12:00:00',color:'#ff3366',bg:'rgba(255,51,102,0.12)',label:'EXTREME'},
  {id:'MSN-0001',diff:'impossible',type:'PROTOCOLE PHANTASM',title:'Nexus Override',desc:'NIVEAU ROUGE. Ce protocole dépasse les limites humaines standard. Seuls les agents d\'élite tentent ceci.',objectives:['24h de productivité absolue','Zéro distraction permise','Rapport complet en fin de cycle'],xp:'+3 500 XP',timer:'24:00:00',color:'#cc00ff',bg:'rgba(204,0,255,0.12)',label:'IMPOSSIBLE'},
  {id:'MSN-∞∞∞',diff:'ananta',type:'TRANSCENDANCE ANANTA',title:'∞ — Éveil Neural Absolu',desc:'Au-delà du concept de mission. L\'Ananta n\'est pas une tâche — c\'est un état d\'être.',objectives:['Repousser toute limite connue','Créer quelque chose d\'inoubliable','Laisser une trace permanente'],xp:'+∞ XP',timer:'∞',color:'#ff00aa',bg:'linear-gradient(135deg,rgba(139,0,255,0.12),rgba(255,0,170,0.12))',label:'ANANTA'}
];

let genCount=0,accCount=0;
const activeDiffs=new Set(['easy','medium','hard','extreme','impossible','ananta']);

document.querySelectorAll('.diff-filter').forEach(el=>{
  el.addEventListener('click',()=>{
    const d=el.dataset.diff;
    if(activeDiffs.has(d)){activeDiffs.delete(d);el.classList.remove('active')}
    else{activeDiffs.add(d);el.classList.add('active')}
  });
});

function generateMission(){
  const pool=missions.filter(m=>activeDiffs.has(m.diff));
  if(!pool.length)return;
  document.getElementById('missionIdle').style.display='none';
  document.getElementById('missionResult').style.display='none';
  document.getElementById('acceptBtnWrap').style.display='none';
  document.getElementById('missionStatusBadge').textContent='SCANNING';
  const scanning=document.getElementById('missionScanning');
  scanning.style.display='flex';
  document.getElementById('scanLine').classList.add('active');
  const fill=document.getElementById('scanBarFill');
  const texts=['SCANNING DATABASE...','ANALYSE EN COURS...','CHIFFREMENT...','PROTOCOLE VALIDÉ...'];
  let pct=0,ti=0;
  fill.style.width='0%';
  const iv=setInterval(()=>{
    pct+=Math.random()*18+5;
    if(pct>100)pct=100;
    fill.style.width=pct+'%';
    if(Math.floor(pct/25)>ti&&ti<texts.length-1){ti++;document.getElementById('scanText').textContent=texts[ti];}
    if(pct>=100){clearInterval(iv);showMission(pool[Math.floor(Math.random()*pool.length)]);}
  },80);
}

function showMission(m){
  setTimeout(()=>{
    document.getElementById('missionScanning').style.display='none';
    document.getElementById('scanLine').classList.remove('active');
    const res=document.getElementById('missionResult');
    res.style.display='block';
    document.getElementById('missionIdDisplay').textContent=m.id;
    const dt=document.getElementById('missionDiffTag');
    dt.textContent=m.label;dt.style.background=m.bg;dt.style.color=m.color;dt.style.border=`1px solid ${m.color}`;dt.style.boxShadow=`0 0 8px ${m.color}`;
    document.getElementById('missionTypeLabel').textContent=m.type;
    document.getElementById('missionTitleText').textContent=m.title;
    document.getElementById('missionDescText').textContent=m.desc;
    document.getElementById('missionObjList').innerHTML=m.objectives.map(o=>`<div class="mission-obj">${o}</div>`).join('');
    const xpEl=document.getElementById('missionXP');
    xpEl.textContent=m.xp;xpEl.style.color=m.color;xpEl.style.textShadow=`0 0 8px ${m.color}`;
    document.getElementById('missionTimerDisplay').textContent=`⏱ ${m.timer}`;
    document.getElementById('missionStatusBadge').textContent='MISSION PRÊTE';
    document.getElementById('missionStatusBadge').style.color=m.color;
    genCount++;document.getElementById('genCount').textContent=genCount;
    document.getElementById('acceptBtnWrap').style.display='block';
  },200);
}

function acceptMission(){
  accCount++;document.getElementById('accCount').textContent=accCount;
  document.getElementById('missionStatusBadge').textContent='✓ ACCEPTÉE';
  document.getElementById('missionStatusBadge').style.color='var(--green)';
  document.getElementById('acceptBtnWrap').style.display='none';
}
</script>
</body>
</html>
